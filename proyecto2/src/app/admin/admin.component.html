<app-nav (logOutEvent)="logout()"></app-nav>
<div class="content" *ngIf="valid">
  <div class="d-flex pt-4 align-items-start">
    <div class="nav flex-column nav-pills w-25 me-3" id="v-pills-tab" role="tablist" aria-orientation="vertical">
      <button class="nav-link active" id="v-pills-home-tab" data-bs-toggle="pill" data-bs-target="#v-pills-home" type="button" role="tab" aria-controls="v-pills-home" aria-selected="true">Home</button>
      <button class="nav-link" id="v-pills-certificados-tab" data-bs-toggle="pill" data-bs-target="#v-pills-certificados" type="button" role="tab" aria-controls="v-pills-certificados" aria-selected="false">Certificate</button>
      <button class="nav-link" id="v-pills-actualizarCV-tab" data-bs-toggle="pill" data-bs-target="#v-pills-actualizarCV" type="button" role="tab" aria-controls="v-pills-actualizarCV" aria-selected="false">Update CV</button>
      <button class="nav-link" id="v-pills-paginahome-tab" data-bs-toggle="pill" data-bs-target="#v-pills-paginahome" type="button" role="tab" aria-controls="v-pills-paginahome" aria-selected="false">Page Home</button>
      <button class="nav-link" id="v-pills-settings-tab" data-bs-toggle="pill" data-bs-target="#v-pills-settings" type="button" role="tab" aria-controls="v-pills-settings" aria-selected="false">Settings</button>
    </div>
    <div class="tab-content w-100" id="v-pills-tabContent">
      <div class="tab-pane fade show active" id="v-pills-home" role="tabpanel" aria-labelledby="v-pills-home-tab">
        <div class="text-center">
          <h1>Panel de Control Administraci칩n</h1>
          <br>
          <p>En este panel es uso exclusivo para la administracion del la pagina</p>
          <p>Se podra subir a base de datos certificados, Articulos y otros tipos de datos de la p치gina principal</p>
        </div>
      </div>
      <div class="tab-pane fade px-3" id="v-pills-certificados" role="tabpanel" aria-labelledby="v-pills-certificados-tab">
        <div class="form">
          <div class="d-flex align-items-end">
            <h3>Certificados</h3>
            <button
            data-toggle="modal" data-target="#exampleModalCenter"
            class="btn btn-outline-primary mx-3"
            (click)="abrirModal(update, null)">+</button>
          </div>

          <div class="p-4">
            <button class="btn btn-outline-info m-2"
            data-toggle="modal" data-target="#exampleModalCenter"
            *ngFor="let certificate of infoCV.contentcv.certificates.details"
            (click)="abrirModal(update, certificate)">{{certificate.name}}</button>
          </div>

          <form action="">

          </form>
        </div>
      </div>
      <div class="tab-pane fade" id="v-pills-actualizarCV" role="tabpanel" aria-labelledby="v-pills-actualizarCV-tab">...</div>
      <div class="tab-pane fade" id="v-pills-paginahome" role="tabpanel" aria-labelledby="v-pills-paginahome-tab">...</div>
      <div class="tab-pane fade" id="v-pills-settings" role="tabpanel" aria-labelledby="v-pills-settings-tab">...</div>
    </div>
  </div>
</div>
<app-footeradmin></app-footeradmin>


<ng-template #update let-modal>
  <div class="modal-header">
    <h5 class="modal-title">{{modalDate? modalDate.name : 'Nuevo Certificado' }}</h5>
    <button type="button" class="btn btn-outline-danger close" (click)="modal.dismiss()" aria-label="Cerrar">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <form [formGroup]="formCert">

      <div class="row justify-content-center mb-3">
        <div class="p-2 col">
          <input type="text" class="form-control" placeholder="Nombre del Curso" aria-label="Nombre del Curso" formControlName="name">
        </div>
        <div class="p-2 col">
          <input type="text" class="form-control" placeholder="Fecha de Finalizaci칩n" aria-label="Fecha de Finalizaci칩n" formControlName="date">
        </div>
      </div>
      <div class="row mb-3">
        <div class="p-2 col">
          <input type="text" class="form-control" placeholder="Nombre de Escuela" aria-label="Nombre de Escuela" formControlName="school">
        </div>
        <div class="p-2 col">
          <input type="text" class="form-control" placeholder="Categoria" aria-label="Categoria" formControlName="tag">
        </div>
      </div>
      <div class="row">
        <div class="p-2 col">
          <input type="text" class="form-control" placeholder="Url del Certificado" aria-label="Url del Certificado" formControlName="url">
        </div>
      </div>

    </form>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-secondary" (click)="modal.dismiss()">Cerrar</button>
    <button type="button" class="btn btn-primary" *ngIf="isNew" (click)="guardarCambiosCert(); modal.dismiss()">Guardar</button>
    <button type="button" class="btn btn-danger" *ngIf="!isNew" (click)="deleteCertificado()">Eliminar</button>
  </div>
</ng-template>
